<!DOCTYPE html>
<html title="Sudoku">
    <head>
        <link rel="stylesheet" href="web.css">
        <script>
            const templates = [['080000613','600938400','740600800','008769002','507800930','409050008','015006070','270400080','000207006']];
            function gen() {
                board = "";
                cellRow = 0;
                for (rows of templates[0]) {
                    cellColumn = 0;
                    board += "<tr>\n";
                    for(cell of rows) {
                        readonly = "";
                        border = "";
                        if (cell == 0) {
                            cell = "";
                        }
                        else {
                            readonly = "readonly";
                            border += "background-color: grey;"
                        }
                        if ((cellColumn + 1) % 3 == 0) {
                            border += "border-right-style: Solid;";
                        }
                        if ((cellRow + 1) % 3 == 0) {
                            border += "border-Bottom-style: Solid;";
                        }
                        board += "<td style=\"border-width: 8px;" + border + "\"><input id=\"cell." + cellRow +"."+ cellColumn + "\" inputmode=\"numeric\" pattern=\"[0-9]*\" value=\"" + cell + "\"" + readonly + "/></td>\n";
                        cellColumn++;
                    }
                    cellRow++;
                    board += "</tr>"
                }
                document.getElementById("board").innerHTML = board;
            }
            function checkResult() {
                var temp = [[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];
                for (i = 0; i < 9; i++) {
                    for (j = 0; j < 9; j++) {
                        tempString = "cell."+i+"."+j;
                        console.log(tempString);
                        //temp[i][j]
                        let inVal = document.getElementById(tempString).value;
                        if (!inVal) {
                            temp[i][j] = 0;
                        }
                        else {
                            temp[i][j] = parseInt(inVal);
                        }
                    }
                }
                var index = 0
                while (index > -1) {
                    index = temp[0].indexOf(0);
                    if (index > -1) {
                    temp[0].splice(index, 1);
                    }
                }
                console.log(temp);
                for (i = 0; i < 9; i++) {
                    temp1 = [0,0,0,0,0,0,0,0,0];
                    for (j = 0; j < 9; j++) {
                        temp1[j] = temp[j][i];
                    }
                    temp2 = [new Set(temp1)];
                    if (temp2.length != 9){
                        console.log("Failure of Column");
                        return null;
                    }
                }
                for (row of temp) {
                    temp2 = [new Set(row)];
                    if (temp2.length != 9){
                        console.log("Failure of Row");
                        return null;
                    }
                }

                document.getElementById("submit").innerHTML = "You Did it";
            }
        </script>
    </head>
    <body onload="gen();">
        <table id="board">
        </table>
        <div id="controls">
            <button id="submit" onclick="checkResult();">Submit</button><button onclick="gen();">New Puzzle</button>
            <br>
            <select id="difficulty">
                <option value="Easy">Easy</option>
                <option value="Medium">Medium</option>
                <option value="Hard">Hard</option>
            </select>
        </div>
    </body>
</html>
