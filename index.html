<!DOCTYPE html>
<html title="Sudoku">
    <head>
        <link rel="stylesheet" href="web.css">
        <script>
            const templates = [[[[0, 0, "f", "b", 0, 0, 0, "c", "g"], [0, 0, 0, 0, 0, 0, 0, 0, 0], [0, "e", 0, 0, 0, "c", "h", "d", 0], [0, 0, 0, 0, "f", 0, 0, "e", 0], ["e", 0, 0, 0, "b", 0, 0, "a", 0], [0, "a", 0, "i", 0, 0, "f", 0, 0], [0, 0, 0, "e", 0, 0, "c", "g", 0], [0, "c", 0, 0, 0, 0, 0, "i", 0], [0, 0, "e", "a", 0, 0, "d", "f", 0]], [["g", 0, 0, "a", "h", 0, 0, "d", 0], [0, 0, 0, 0, "c", 0, 0, 0, 0], [0, "i", 0, 0, 0, "d", 0, "g", "c"], [0, "a", 0, "b", 0, 0, 0, "c", 0], ["h", 0, 0, 0, 0, 0, 0, 0, "i"], [0, 0, "e", 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, "e", 0, 0], ["d", "f", "g", "h", "e", 0, "c", "i", 0], ["b", 0, "c", 0, 0, 0, 0, 0, 0]], [[0, 0, 0, 0, 0, "d", "g", 0, 0], [0, "g", 0, 0, 0, 0, 0, 0, 0], ["d", "i", "b", 0, "h", 0, 0, 0, "e"], [0, 0, 0, 0, "b", 0, 0, 0, 0], [0, "b", "a", 0, "i", "e", "c", 0, 0], [0, 0, 0, 0, "c", 0, 0, 0, "b"], [0, 0, 0, 0, 0, 0, "h", "e", "g"], ["h", 0, "g", "c", 0, 0, 0, 0, "a"], [0, 0, 0, 0, "g", 0, 0, "f", 0]], [[0, "b", 0, 0, 0, "d", "a", 0, "c"], [0, 0, 0, 0, 0, 0, 0, "g", 0], [0, "c", 0, 0, "a", "i", 0, "e", 0], [0, "e", 0, "f", 0, 0, 0, "d", "g"], ["d", "h", "b", "i", 0, 0, 0, 0, "a"], [0, 0, 0, 0, 0, 0, 0, 0, 0], ["b", 0, 0, 0, 0, 0, 0, 0, 0], [0, "f", "e", 0, 0, 0, 0, "a", 0], [0, 0, 0, "a", "d", "f", 0, 0, 0]], [[0, 0, 0, 0, 0, 0, "h", "b", "c"], ["b", 0, "h", 0, 0, "i", "f", 0, 0], ["d", 0, 0, 0, 0, "b", 0, 0, 0], ["f", 0, 0, 0, 0, 0, "b", 0, "g"], ["g", 0, "b", "c", 0, "e", 0, 0, "f"], [0, 0, "e", 0, 0, "f", 0, 0, 0], ["e", 0, 0, "f", 0, 0, "g", 0, "b"], [0, 0, 0, "e", 0, 0, 0, 0, 0], ["c", 0, 0, 0, 0, 0, 0, 0, 0]], [[0, "h", "e", 0, 0, 0, 0, 0, "a"], [0, 0, 0, "d", 0, "h", 0, 0, 0], [0, "c", 0, 0, 0, 0, "f", "h", 0], [0, "e", 0, "h", "d", 0, 0, 0, "g"], [0, 0, "d", "b", 0, 0, "h", 0, 0], ["h", "i", 0, 0, "a", "e", 0, 0, "c"], [0, 0, 0, "e", 0, 0, 0, "a", 0], [0, 0, "c", 0, 0, 0, 0, 0, 0], ["e", 0, 0, 0, "b", 0, 0, 0, 0]], [[0, "d", "e", 0, 0, "f", "g", 0, 0], ["f", "g", 0, 0, 0, "i", "a", "h", 0], [0, 0, 0, 0, "c", 0, 0, 0, "e"], ["d", "h", 0, 0, "e", 0, "i", 0, "f"], [0, 0, 0, 0, 0, 0, 0, "c", 0], [0, 0, 0, "f", 0, 0, "h", "e", 0], ["b", "e", 0, 0, 0, 0, 0, "f", 0], [0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, "b", 0, 0, "e", 0, 0]], [[0, 0, 0, "i", 0, 0, 0, 0, 0], [0, 0, 0, 0, "f", 0, 0, 0, 0], [0, "i", 0, "h", 0, 0, 0, 0, 0], ["a", 0, 0, "b", 0, 0, "g", 0, 0], [0, 0, 0, 0, 0, "g", 0, 0, 0], ["f", 0, 0, 0, 0, 0, "h", "e", "c"], [0, "f", 0, 0, "e", 0, "d", 0, "a"], ["b", 0, "h", 0, 0, "i", 0, "g", "e"], [0, "g", "d", "c", 0, "a", 0, 0, 0]], [[0, 0, "h", "f", 0, 0, 0, "c", 0], ["i", 0, 0, 0, 0, 0, 0, 0, "d"], [0, 0, 0, 0, 0, 0, "h", 0, "b"], [0, 0, 0, 0, 0, "c", 0, 0, 0], ["b", 0, "g", 0, 0, 0, 0, "d", "c"], ["e", 0, 0, 0, "b", 0, 0, 0, 0], [0, 0, 0, 0, 0, "a", 0, "b", "e"], ["a", "h", 0, 0, "e", "g", 0, 0, 0], [0, 0, 0, "b", "c", 0, "g", 0, "h"]], [[0, 0, "h", 0, 0, "a", "e", 0, 0], ["a", 0, 0, 0, 0, 0, 0, 0, 0], [0, "d", "i", "h", "g", 0, 0, "f", 0], ["h", 0, 0, "d", "f", 0, "g", 0, 0], [0, 0, "e", 0, 0, "g", "d", "c", 0], ["f", 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, "c", "a", 0, 0, 0, 0, "g"], [0, "b", 0, "i", 0, "h", "c", 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0]]], [[[0, 0, 0, 0, 0, 0, "c", 0, 0], [0, 0, "c", "e", 0, 0, "b", 0, 0], [0, 0, 0, 0, "g", 0, 0, 0, "d"], [0, 0, 0, 0, 0, 0, 0, 0, 0], [0, "f", 0, 0, 0, 0, "a", 0, 0], ["c", 0, 0, 0, 0, 0, 0, 0, 0], ["i", 0, 0, 0, 0, "e", 0, 0, 0], ["d", 0, "e", "h", "i", 0, "f", 0, 0], ["b", 0, "f", "g", 0, 0, 0, 0, 0]], [[0, 0, "f", 0, 0, 0, "b", 0, "h"], [0, 0, 0, 0, 0, 0, 0, 0, 0], [0, "e", "h", 0, 0, "b", 0, 0, 0], [0, 0, 0, 0, "b", 0, 0, 0, 0], [0, 0, 0, 0, "c", 0, "g", 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0], ["e", 0, 0, "f", "h", 0, "d", 0, 0], [0, 0, 0, "e", 0, "i", 0, 0, "f"], [0, 0, "g", 0, 0, 0, "h", 0, "i"]], [[0, 0, 0, 0, 0, 0, "a", 0, 0], [0, 0, 0, "h", "f", 0, 0, 0, 0], [0, 0, 0, 0, 0, "c", 0, 0, "d"], ["b", 0, 0, 0, 0, 0, "c", 0, 0], [0, 0, 0, 0, "b", 0, "d", 0, 0], [0, 0, 0, 0, 0, "f", 0, 0, "b"], [0, 0, 0, "c", "e", "b", 0, 0, "a"], [0, 0, 0, 0, "d", 0, 0, "e", 0], ["e", 0, 0, "f", 0, 0, 0, 0, 0]], [["d", 0, 0, 0, 0, 0, 0, 0, "i"], [0, "g", 0, 0, 0, "i", "h", 0, "b"], ["c", 0, "i", 0, "a", "b", 0, 0, 0], ["a", 0, 0, "b", 0, 0, 0, "e", 0], ["e", 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, "h", 0], [0, 0, 0, 0, 0, 0, 0, "a", 0], ["g", "a", 0, "h", 0, 0, 0, 0, 0]], [[0, 0, 0, 0, 0, "e", 0, 0, 0], [0, 0, 0, "h", 0, 0, "e", "f", "d"], ["e", 0, 0, 0, 0, 0, 0, 0, 0], [0, "i", 0, "g", "b", "c", 0, 0, 0], [0, 0, "c", 0, 0, 0, 0, 0, "i"], [0, 0, 0, 0, 0, "a", 0, "d", "c"], [0, 0, "i", 0, 0, 0, 0, "b", 0], [0, 0, 0, 0, 0, "b", 0, 0, "g"], [0, 0, 0, 0, 0, 0, 0, 0, 0]], [["b", 0, "f", 0, 0, 0, "h", 0, 0], [0, 0, 0, "f", "c", 0, "a", 0, 0], [0, 0, 0, 0, 0, 0, 0, "f", 0], [0, 0, 0, 0, "h", "e", 0, 0, "g"], [0, 0, 0, "b", 0, 0, 0, 0, "f"], [0, 0, "g", 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, "b", 0, "e", 0, 0], [0, 0, 0, "e", 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, "c", 0, "d", "h"]], [[0, "d", "i", 0, 0, 0, "c", 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, "g", 0], [0, "i", "d", 0, 0, 0, 0, "f", 0], [0, 0, 0, "f", 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, "h", 0, 0, 0], ["i", "h", 0, "e", 0, "g", 0, 0, "d"], [0, "c", 0, 0, 0, 0, 0, 0, 0], ["d", "g", 0, "i", 0, 0, "b", 0, 0]], [[0, 0, "c", "d", 0, 0, "a", 0, "i"], [0, 0, 0, "e", 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, "b", 0, 0, 0], [0, 0, "f", "g", "e", "c", 0, 0, "d"], [0, "g", 0, 0, 0, 0, 0, 0, 0], ["e", 0, 0, 0, 0, 0, "b", 0, 0], ["f", 0, 0, 0, 0, 0, 0, "i", "b"], [0, 0, 0, 0, 0, 0, 0, 0, 0], ["c", 0, 0, 0, 0, "e", 0, 0, 0]], [[0, 0, 0, 0, 0, 0, 0, "b", "h"], [0, 0, "i", "g", 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, "f", 0, 0, 0], [0, "d", 0, 0, 0, 0, 0, 0, "f"], [0, "b", 0, 0, 0, "d", 0, "h", 0], [0, 0, 0, "b", 0, "g", 0, "c", 0], [0, 0, "e", "a", 0, 0, 0, "d", "c"], [0, 0, "f", 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, "f", 0, 0, 0, 0]], [[0, 0, 0, 0, 0, 0, 0, 0, 0], ["f", 0, "h", 0, 0, "b", 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0], ["e", 0, "b", 0, 0, "i", "d", 0, "g"], [0, 0, 0, 0, 0, 0, 0, 0, 0], ["c", 0, "i", 0, 0, 0, 0, 0, 0], [0, "h", 0, "c", "i", "a", 0, 0, 0], ["b", 0, 0, 0, 0, 0, 0, 0, "c"], [0, "c", "e", 0, 0, 0, 0, "d", 0]]], [[[0, 0, 0, 0, "i", "d", "h", 0, 0], [0, "d", 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, "a", 0, 0, 0, 0, 0], [0, 0, 0, "d", 0, 0, 0, 0, "i"], [0, 0, "d", 0, "a", 0, 0, 0, 0], ["a", 0, 0, 0, 0, "i", 0, 0, 0], [0, 0, 0, "b", 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, "b", "f", 0]], [[0, 0, 0, 0, 0, 0, 0, 0, 0], ["e", "c", 0, "g", 0, 0, 0, 0, 0], [0, 0, "d", 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, "c", 0, 0, 0], [0, 0, 0, 0, 0, "g", 0, 0, 0], [0, 0, 0, "h", 0, 0, 0, 0, 0], ["f", "g", 0, 0, 0, 0, 0, 0, 0], [0, 0, "e", 0, "f", 0, 0, 0, 0], ["i", 0, 0, 0, 0, "a", 0, 0, "c"]], [[0, 0, 0, 0, 0, 0, 0, "i", 0], [0, "c", 0, 0, 0, "f", "g", 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, "d", 0, "b", 0, 0, 0], [0, 0, 0, "e", "f", 0, 0, "g", 0], [0, 0, 0, 0, 0, 0, "e", 0, "f"], [0, 0, 0, "g", 0, 0, 0, 0, 0], ["b", 0, 0, "f", 0, 0, 0, 0, 0]], [["h", 0, 0, 0, 0, "a", 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, "f", "i"], [0, 0, 0, 0, 0, 0, 0, 0, 0], [0, "i", 0, 0, "h", 0, "c", 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, "d", 0], [0, 0, "b", 0, "a", 0, "d", 0, 0], [0, 0, 0, "b", 0, 0, 0, "i", 0], ["a", 0, 0, 0, 0, 0, 0, 0, 0]], [[0, 0, 0, 0, 0, 0, 0, 0, 0], ["i", 0, "g", 0, 0, "h", 0, 0, 0], ["d", "h", 0, 0, "g", 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, "e"], ["e", 0, 0, 0, 0, 0, 0, 0, 0], ["g", 0, 0, 0, 0, 0, "i", 0, 0], ["h", 0, 0, "g", 0, 0, 0, 0, 0], [0, "b", 0, 0, 0, 0, 0, 0, 0], [0, 0, "i", 0, 0, 0, 0, 0, 0]], [[0, 0, "f", 0, 0, "c", 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0], ["b", "e", 0, 0, 0, 0, 0, 0, 0], ["f", 0, 0, "h", "a", 0, 0, "g", 0], [0, 0, 0, 0, "f", 0, "b", 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, "d", 0, 0, "b", 0], ["c", 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, "g"]], [[0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, "e", 0, 0, "a", 0], [0, 0, 0, 0, 0, 0, "h", 0, "f"], [0, "h", 0, 0, 0, 0, 0, 0, 0], [0, "d", 0, 0, 0, 0, 0, 0, "g"], [0, 0, 0, 0, 0, 0, 0, 0, 0], ["e", 0, 0, "d", 0, 0, 0, "f", 0], [0, "f", 0, 0, "g", 0, "d", 0, "a"]], [[0, 0, 0, "d", "g", 0, 0, "h", 0], [0, "d", 0, 0, 0, 0, "g", 0, 0], [0, 0, "e", 0, 0, 0, 0, 0, 0], [0, 0, "b", 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, "a", "g", 0, 0, "f"], [0, 0, 0, 0, 0, "h", 0, 0, 0], [0, 0, 0, 0, 0, "d", 0, 0, 0], [0, "h", 0, 0, 0, 0, 0, "a", 0]], [[0, 0, "e", 0, "h", "b", 0, 0, 0], [0, 0, 0, 0, 0, 0, "h", "g", "b"], [0, 0, 0, 0, 0, 0, 0, 0, 0], [0, "i", 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, "a", 0, 0, 0], [0, 0, "h", "b", 0, 0, 0, 0, 0], [0, 0, "i", 0, 0, 0, 0, 0, "g"], [0, "b", 0, 0, 0, "g", 0, 0, 0]], [[0, 0, 0, 0, 0, "c", 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, "i", "d", 0], [0, 0, 0, 0, 0, 0, 0, 0, "c"], [0, "a", 0, 0, 0, 0, 0, "f", 0], [0, 0, 0, 0, 0, 0, 0, 0, "d"], ["e", 0, 0, 0, 0, "d", 0, "g", 0], ["f", 0, "a", 0, 0, "g", 0, 0, 0], [0, 0, "d", 0, 0, 0, 0, 0, 0]]]];
            function shuffle(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
                return array;
            }
            
            function gen() {
                document.getElementById("submit").innerHTML = "Submit";
                diff = 0;
                if (document.getElementById("difficulty").value == "Medium") {
                    diff = 1
                }
                else if (document.getElementById("difficulty").value == "Hard") {
                    diff = 2
                }
                finalTemplate = templates[diff][Math.floor(Math.random() * templates[diff].length)]

                if(Math.floor(Math.random() * 10) < 5) {
                    for (row of finalTemplate) {
                        row.reverse();
                    }
                }
                if(Math.floor(Math.random() * 10) < 5) {
                    finalTemplate.reverse();
                }

                const strToint = shuffle(['a','b','c','d','e','f','g','h','i']);

                board = "";
                cellRow = 0;
                for (rows of finalTemplate) {
                    cellColumn = 0;
                    board += "<tr>\n";
                    for(cell of rows) {
                        readonly = "";
                        border = "";
                        background = "";
                        if (cell == 0) {
                            cell = "";
                        }
                        else {
                            cell = strToint.indexOf(cell) + 1;
                            readonly = "readonly";
                            background = "background-color: lightgrey;"
                        }
                        if ((cellColumn + 1) % 3 == 0) {
                            border += "border-right-style: Solid;";
                        }
                        if ((cellRow + 1) % 3 == 0) {
                            border += "border-Bottom-style: Solid;";
                        }
                        board += "<td style=\"border-width: 8px;" + border + "\"><input style=\"" + background + "\" id=\"cell." + cellRow +"."+ cellColumn + "\" inputmode=\"numeric\" pattern=\"[0-9]*\" value=\"" + cell + "\"" + readonly + "/></td>\n";
                        cellColumn++;
                    }
                    cellRow++;
                    board += "</tr>"
                }
                document.getElementById("board").innerHTML = board;
            }
            function checkResult() {
                var temp = [[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];
                for (i = 0; i < 9; i++) {
                    for (j = 0; j < 9; j++) {
                        tempString = "cell."+i+"."+j;
                        console.log(tempString);
                        //temp[i][j]
                        let inVal = document.getElementById(tempString).value;
                        if (!inVal) {
                            temp[i][j] = 0;
                        }
                        else {
                            temp[i][j] = parseInt(inVal);
                        }
                    }
                }
                for (row of temp) {
                    var index = 0;
                    console.log(temp);
                    while (index > -1) {
                        index = row.indexOf(0);
                        if (index > -1) {
                        row.splice(index, 1);
                        }
                    }
                }
                
                for (i = 0; i < 9; i++) {
                    temp1 = [0,0,0,0,0,0,0,0,0];
                    for (j = 0; j < 9; j++) {
                        temp1[j] = temp[j][i];
                    }
                    temp2 = new Set();
                    for (cell of temp1) {
                        temp2.add(cell)
                    }
                    if (temp2.size != 9){
                        document.getElementById("submit").innerHTML = "Resubmit";
                        console.log("Failure of Column");
                        return null;
                    }
                }
                for (row of temp) {
                    temp2 = new Set();
                    for (cell of row) {
                        temp2.add(cell)
                    }
                    if (temp2.size != 9){
                        document.getElementById("submit").innerHTML = "Resubmit";
                        console.log("Failure of Row");
                        return null;
                    }
                }

                document.getElementById("submit").innerHTML = "You Did it";
            }
        </script>
    </head>
    <body onload="gen();">
        <table id="board">
        </table>
        <div id="controls">
            <button id="submit" onclick="checkResult();">Submit</button><button onclick="gen();">New Puzzle</button>
            <br>
            <select id="difficulty">
                <option value="Easy">Easy</option>
                <option value="Medium">Medium</option>
                <option value="Hard">Hard</option>
            </select>
        </div>
    </body>
</html>