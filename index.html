<!DOCTYPE html>
<html title="Sudoku">
  <head>
    <meta
      name="viewport"
      content="width=device-width;initial-scale=1.0; maximum-scale=1.0; user-scalable=0;"
    />
    <link rel="stylesheet" href="web.css" />
    <script>
      const templates = [
        [
          [
            ["d", 0, "b", "h", "g", "f", 0, 0, "e"],
            [0, "h", 0, "b", 0, 0, 0, 0, 0],
            ["c", 0, 0, "e", 0, "a", 0, 0, 0],
            [0, "d", 0, 0, "e", "g", "i", 0, "f"],
            ["f", "g", 0, 0, 0, "i", 0, "h", 0],
            [0, 0, 0, "f", 0, 0, 0, 0, 0],
            ["g", "b", 0, "i", 0, 0, 0, 0, 0],
            [0, "c", "a", "g", 0, 0, "d", "e", "i"],
            ["i", "e", 0, "c", "a", 0, 0, 0, "h"],
          ],
          [
            [0, "i", "e", 0, "a", 0, 0, "h", 0],
            [0, 0, 0, 0, 0, "b", "f", 0, 0],
            [0, 0, 0, "h", 0, 0, "e", 0, "i"],
            [0, "g", "b", 0, "i", 0, 0, "e", "c"],
            [0, 0, 0, "b", "c", 0, 0, "f", 0],
            ["c", 0, 0, 0, "f", 0, "i", 0, "h"],
            [0, 0, "d", 0, "g", 0, 0, "i", 0],
            ["h", "c", 0, "e", "b", "i", 0, "d", "f"],
            [0, 0, "i", "d", 0, 0, "c", 0, "b"],
          ],
          [
            [0, "a", 0, 0, 0, 0, 0, 0, 0],
            ["c", 0, "i", 0, 0, 0, 0, 0, "g"],
            [0, 0, 0, 0, "g", 0, "a", 0, 0],
            ["g", "f", 0, "h", "i", 0, 0, 0, 0],
            ["e", "b", 0, "d", "c", 0, "h", 0, 0],
            ["i", "h", "c", 0, "e", 0, "g", 0, "d"],
            ["h", 0, "e", 0, "b", "i", 0, 0, 0],
            ["a", 0, "f", "c", 0, 0, "i", "e", 0],
            ["d", 0, 0, 0, 0, "e", "c", "g", "h"],
          ],
          [
            ["a", 0, 0, "g", 0, 0, "h", 0, 0],
            ["h", "d", 0, "b", 0, "e", 0, 0, "g"],
            [0, 0, 0, "a", 0, 0, 0, "b", "i"],
            [0, 0, "d", 0, 0, "f", "a", 0, 0],
            [0, 0, "c", 0, "a", 0, "g", 0, 0],
            [0, 0, 0, "e", 0, "g", 0, 0, "b"],
            ["c", 0, 0, 0, 0, "d", "b", "g", 0],
            ["e", 0, "g", "c", 0, 0, "f", 0, 0],
            ["d", 0, "b", "f", "g", 0, "e", "c", "h"],
          ],
          [
            [0, 0, 0, "f", 0, "h", 0, 0, "e"],
            ["h", 0, "e", "c", 0, 0, "d", 0, "g"],
            ["d", 0, 0, "g", 0, 0, "b", "c", "h"],
            ["e", 0, "d", 0, 0, 0, "a", 0, "i"],
            ["i", 0, 0, 0, "c", 0, 0, 0, "f"],
            [0, 0, 0, 0, 0, 0, 0, 0, "c"],
            ["f", 0, "i", "a", "h", 0, 0, 0, "b"],
            [0, "b", "c", "d", 0, "e", 0, 0, "a"],
            ["a", "e", 0, 0, "g", "f", 0, 0, 0],
          ],
          [
            [0, "e", 0, 0, 0, 0, 0, "h", 0],
            [0, "f", 0, 0, "g", "b", "c", 0, 0],
            [0, 0, "b", "h", "i", 0, "f", 0, "g"],
            [0, "i", "f", 0, "h", "g", 0, "a", 0],
            [0, "g", "d", 0, 0, 0, "h", "c", 0],
            ["a", 0, 0, "d", "b", 0, 0, 0, 0],
            [0, 0, "g", 0, "c", 0, 0, "b", 0],
            ["c", 0, 0, 0, "a", 0, 0, "g", "f"],
            ["h", "b", 0, 0, 0, 0, "a", "i", "c"],
          ],
          [
            ["e", 0, 0, "d", 0, 0, "i", 0, "c"],
            [0, 0, 0, 0, "a", 0, "b", 0, 0],
            ["c", 0, 0, "g", "e", "i", 0, 0, 0],
            [0, "a", 0, "i", "b", "d", "c", "e", "h"],
            [0, 0, 0, "f", 0, "a", "d", "b", "i"],
            ["i", "b", "d", 0, "c", "e", 0, 0, "a"],
            [0, "i", 0, 0, 0, "g", 0, 0, 0],
            [0, 0, "h", "b", "d", 0, 0, 0, 0],
            [0, 0, "g", 0, 0, "f", 0, 0, 0],
          ],
          [
            ["c", 0, "a", "g", "e", 0, 0, 0, "d"],
            ["f", 0, 0, 0, "a", 0, 0, "b", "c"],
            [0, "g", 0, "f", 0, "c", "e", 0, 0],
            [0, 0, 0, "e", 0, 0, "c", "g", "b"],
            ["g", "c", "e", 0, "h", 0, 0, "d", 0],
            ["d", "b", 0, "c", 0, "f", 0, "e", 0],
            [0, 0, 0, 0, "c", "g", 0, 0, 0],
            [0, 0, "g", 0, "f", "e", 0, "c", 0],
            ["e", 0, 0, "a", 0, 0, 0, 0, 0],
          ],
          [
            [0, "a", 0, "d", "h", 0, 0, 0, 0],
            [0, "g", "i", 0, 0, 0, "b", "d", "e"],
            ["b", 0, 0, "i", "e", 0, 0, "a", 0],
            ["c", "b", "g", 0, 0, "d", "f", 0, 0],
            [0, "h", 0, "b", 0, 0, "d", 0, 0],
            [0, "i", "a", 0, 0, 0, 0, "c", "b"],
            ["g", 0, 0, "a", 0, 0, "i", 0, 0],
            [0, "e", "c", "h", 0, 0, 0, 0, 0],
            ["i", 0, "b", "c", "g", 0, 0, "e", 0],
          ],
          [
            [0, 0, 0, "d", "i", 0, "h", 0, 0],
            ["h", "d", "a", 0, "c", 0, 0, 0, 0],
            [0, 0, 0, "f", "a", "h", "d", 0, 0],
            [0, 0, "g", 0, 0, "d", "e", 0, "a"],
            [0, 0, 0, 0, "g", 0, "f", 0, "i"],
            ["f", 0, 0, 0, "b", "a", 0, 0, "c"],
            [0, "f", "h", 0, 0, "b", "a", 0, 0],
            [0, "a", "c", 0, "h", 0, 0, "e", 0],
            ["g", "e", 0, 0, "d", "f", 0, "i", 0],
          ],
        ],
        [
          [
            [0, 0, 0, 0, "f", "i", 0, "a", "h"],
            [0, 0, "b", 0, "e", 0, 0, "f", "d"],
            [0, "f", 0, 0, 0, 0, "e", 0, 0],
            ["d", 0, 0, 0, "g", 0, 0, "c", "b"],
            [0, 0, 0, 0, 0, 0, 0, 0, 0],
            ["g", 0, "a", 0, 0, 0, 0, "e", 0],
            ["h", 0, 0, "b", 0, "g", 0, "d", 0],
            [0, 0, "d", 0, 0, 0, 0, 0, 0],
            [0, "b", 0, "f", 0, 0, 0, 0, "c"],
          ],
          [
            [0, 0, 0, 0, 0, "h", 0, 0, 0],
            [0, "i", "e", "a", 0, "b", 0, "c", 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, "b", 0, 0, 0, "a", "g"],
            ["i", 0, 0, 0, 0, 0, "b", "f", 0],
            [0, 0, 0, "i", 0, 0, 0, "h", 0],
            ["a", 0, 0, 0, "g", "c", 0, 0, "b"],
            [0, 0, "b", 0, "e", "i", 0, "d", 0],
            [0, "e", 0, 0, 0, 0, "f", 0, "i"],
          ],
          [
            [0, 0, "i", 0, 0, 0, 0, 0, "b"],
            ["g", "e", "b", "a", 0, 0, 0, 0, "i"],
            [0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, "a", 0, "b", 0, 0, 0, 0, 0],
            [0, 0, "c", 0, "e", 0, "b", 0, "a"],
            ["b", "g", "e", 0, 0, "c", 0, 0, "d"],
            [0, 0, 0, 0, 0, "e", 0, 0, "g"],
            [0, "i", 0, 0, 0, 0, 0, "e", 0],
            [0, 0, 0, "i", "g", 0, "d", 0, 0],
          ],
          [
            [0, "i", "a", 0, "d", 0, 0, 0, 0],
            [0, "e", "h", "c", 0, 0, 0, "f", "i"],
            [0, "g", "b", 0, "i", "f", "a", 0, "e"],
            [0, 0, 0, "a", 0, 0, 0, 0, 0],
            ["h", 0, 0, "f", 0, 0, 0, 0, 0],
            [0, 0, 0, 0, "h", 0, 0, 0, 0],
            ["a", 0, 0, 0, 0, 0, 0, 0, "f"],
            [0, 0, 0, 0, 0, 0, 0, "h", "b"],
            ["g", 0, "d", 0, 0, 0, "c", 0, 0],
          ],
          [
            [0, 0, 0, 0, 0, "i", 0, 0, 0],
            ["c", 0, "f", 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, "f", 0, "b", 0],
            ["a", 0, "c", "i", 0, 0, 0, 0, 0],
            ["h", 0, 0, 0, 0, "b", 0, "c", "i"],
            ["e", 0, "i", 0, 0, 0, 0, "a", "d"],
            [0, 0, 0, 0, 0, 0, "c", "i", 0],
            ["i", 0, 0, "b", 0, 0, "d", 0, "e"],
            [0, 0, 0, "c", 0, "d", 0, 0, "h"],
          ],
          [
            [0, "g", 0, 0, 0, 0, 0, 0, 0],
            ["a", 0, "c", "f", "g", 0, 0, 0, 0],
            ["h", 0, "e", "d", "c", "a", 0, 0, 0],
            ["d", 0, 0, "a", 0, 0, 0, 0, 0],
            [0, 0, "a", 0, 0, 0, 0, 0, 0],
            [0, "f", 0, "b", 0, 0, "i", "h", 0],
            ["f", 0, "h", 0, 0, "i", "d", 0, "b"],
            [0, 0, 0, 0, 0, 0, 0, 0, "i"],
            [0, 0, "b", 0, 0, 0, 0, 0, "f"],
          ],
          [
            [0, 0, "h", 0, 0, 0, "g", 0, "e"],
            [0, "f", 0, 0, 0, 0, "d", "i", "c"],
            [0, 0, 0, 0, "e", 0, 0, 0, 0],
            ["d", 0, "b", 0, 0, 0, 0, "e", "g"],
            [0, 0, 0, 0, 0, "e", 0, "b", 0],
            [0, 0, "e", 0, 0, 0, "f", 0, 0],
            [0, 0, "i", 0, "c", "f", "e", 0, 0],
            ["g", 0, "f", "e", 0, 0, 0, 0, 0],
            ["h", 0, 0, 0, 0, 0, "a", 0, 0],
          ],
          [
            [0, "i", 0, 0, 0, 0, 0, "a", 0],
            [0, 0, 0, "i", 0, "h", 0, 0, 0],
            [0, 0, 0, "e", 0, 0, 0, 0, "f"],
            [0, 0, 0, 0, 0, "f", "b", 0, 0],
            ["h", 0, 0, 0, 0, 0, 0, 0, "e"],
            ["g", 0, 0, 0, "b", 0, 0, 0, 0],
            ["i", "c", "f", "g", "e", 0, "a", "h", 0],
            [0, 0, "d", 0, "h", "i", 0, 0, 0],
            [0, "g", 0, 0, 0, "a", "e", 0, 0],
          ],
          [
            [0, "d", 0, 0, "a", 0, "i", 0, 0],
            ["c", 0, 0, "d", "f", 0, 0, 0, 0],
            [0, "h", 0, 0, "g", 0, 0, 0, "d"],
            [0, 0, "d", 0, "e", 0, 0, "i", "a"],
            [0, "b", "g", 0, 0, 0, 0, "e", 0],
            [0, "a", 0, 0, 0, 0, 0, 0, 0],
            [0, 0, "c", 0, 0, 0, 0, "a", "i"],
            [0, "i", 0, 0, "c", "a", 0, "d", 0],
            [0, 0, 0, "g", 0, 0, 0, 0, 0],
          ],
          [
            [0, "a", "e", "b", 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, "h", 0, "b"],
            ["b", 0, 0, "g", 0, 0, 0, 0, 0],
            [0, 0, "c", "f", 0, 0, 0, "d", 0],
            ["f", 0, "a", "c", "i", 0, 0, 0, 0],
            ["h", 0, 0, 0, 0, 0, "a", 0, 0],
            [0, 0, 0, "i", "c", 0, 0, "b", 0],
            [0, "e", 0, 0, "f", "d", "g", 0, 0],
            ["g", 0, 0, 0, 0, 0, 0, 0, "d"],
          ],
        ],
        [
          [
            [0, 0, "g", 0, 0, 0, 0, 0, "b"],
            [0, "h", 0, "a", 0, 0, 0, "c", 0],
            ["d", 0, 0, 0, 0, 0, 0, 0, 0],
            [0, "e", "d", 0, "b", 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, "g", 0, 0, 0, "e", 0, 0, "a"],
            ["g", 0, 0, 0, "d", 0, "b", 0, 0],
            ["c", 0, 0, 0, 0, 0, 0, "i", "d"],
            [0, 0, 0, 0, 0, 0, 0, 0, "g"],
          ],
          [
            ["e", 0, 0, 0, 0, 0, "d", "a", 0],
            [0, 0, "f", 0, 0, 0, 0, 0, 0],
            [0, 0, "h", 0, 0, 0, "b", 0, "e"],
            [0, 0, 0, "i", 0, 0, 0, "g", 0],
            [0, "e", 0, "a", "g", 0, 0, 0, 0],
            [0, 0, "g", "f", 0, 0, 0, "c", 0],
            [0, 0, 0, 0, 0, "b", 0, 0, "d"],
            [0, 0, 0, 0, "f", 0, 0, 0, "g"],
            [0, 0, 0, 0, 0, 0, 0, 0, 0],
          ],
          [
            [0, "g", 0, 0, "h", 0, 0, "b", 0],
            [0, 0, 0, "g", 0, 0, "e", 0, 0],
            [0, 0, "h", 0, 0, 0, 0, 0, 0],
            [0, 0, "g", 0, "c", "h", 0, 0, 0],
            [0, "c", "e", 0, 0, "f", 0, 0, "g"],
            [0, 0, 0, "e", "i", 0, 0, 0, 0],
            [0, 0, 0, 0, "g", 0, 0, 0, 0],
            [0, 0, "c", 0, 0, 0, 0, "e", 0],
            ["g", 0, 0, 0, 0, 0, 0, 0, 0],
          ],
          [
            [0, "h", 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, "c", 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, "h", 0, 0],
            ["a", 0, 0, "i", 0, "b", "f", 0, 0],
            [0, 0, 0, 0, 0, 0, "i", "e", 0],
            [0, "f", 0, 0, "d", 0, 0, 0, 0],
            [0, "g", "a", 0, 0, 0, 0, 0, "e"],
            [0, 0, 0, "g", "b", 0, "c", 0, "h"],
            [0, 0, 0, "f", 0, 0, 0, 0, 0],
          ],
          [
            ["c", 0, 0, 0, "i", 0, 0, "g", 0],
            [0, 0, 0, 0, "c", 0, 0, 0, 0],
            [0, 0, "e", 0, 0, 0, 0, "a", 0],
            [0, 0, 0, "h", 0, 0, 0, "b", 0],
            ["h", 0, 0, 0, "f", "i", 0, 0, "d"],
            [0, 0, 0, 0, 0, "d", "h", 0, 0],
            [0, 0, 0, 0, "g", 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, "g"],
            [0, "c", 0, 0, 0, 0, "f", 0, "i"],
          ],
          [
            [0, 0, 0, "a", 0, 0, 0, "c", 0],
            [0, 0, "b", 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0],
            ["a", 0, 0, 0, "d", 0, 0, "h", 0],
            [0, 0, 0, 0, 0, "i", "a", "g", 0],
            ["i", "b", 0, 0, 0, 0, 0, 0, "e"],
            [0, 0, 0, 0, "b", 0, "d", 0, 0],
            [0, "c", "d", 0, "f", 0, 0, 0, "g"],
            [0, 0, 0, 0, 0, 0, 0, 0, "f"],
          ],
          [
            [0, 0, 0, 0, 0, 0, 0, 0, 0],
            ["a", 0, "i", 0, 0, 0, "c", "g", 0],
            [0, 0, 0, "g", 0, 0, 0, 0, 0],
            [0, 0, 0, "f", 0, 0, "d", 0, 0],
            ["f", 0, 0, 0, 0, "a", 0, 0, 0],
            ["g", 0, 0, "e", 0, "h", 0, 0, 0],
            [0, 0, 0, 0, 0, 0, "e", 0, "i"],
            [0, 0, 0, 0, 0, 0, 0, 0, 0],
            ["h", 0, "g", 0, 0, "e", "f", 0, "d"],
          ],
          [
            [0, 0, 0, 0, 0, 0, "d", 0, 0],
            [0, 0, "h", 0, 0, 0, "f", 0, 0],
            [0, 0, 0, 0, "d", 0, 0, "c", 0],
            [0, "c", 0, 0, 0, "g", "a", 0, 0],
            [0, "i", "g", 0, 0, 0, 0, "e", 0],
            [0, 0, 0, 0, 0, 0, "i", 0, 0],
            [0, 0, "i", 0, 0, "c", 0, 0, 0],
            [0, 0, 0, 0, 0, "i", 0, 0, 0],
            ["e", "f", 0, 0, "a", 0, 0, "b", 0],
          ],
          [
            ["f", 0, 0, 0, 0, 0, "c", 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0],
            ["e", 0, "c", "f", 0, 0, "b", "g", "h"],
            [0, "g", 0, 0, 0, 0, 0, "h", "e"],
            [0, 0, "b", 0, 0, 0, 0, 0, 0],
            ["d", 0, 0, 0, 0, 0, 0, "b", 0],
            [0, 0, "h", 0, 0, 0, 0, 0, 0],
            [0, "e", "i", 0, 0, 0, "h", "f", 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0],
          ],
          [
            [0, "b", "c", 0, 0, 0, 0, 0, 0],
            [0, 0, 0, "c", "b", 0, 0, "e", 0],
            ["a", 0, 0, 0, "f", "d", 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0],
            ["g", 0, 0, "b", 0, 0, 0, 0, 0],
            [0, "c", 0, "e", 0, 0, 0, 0, "i"],
            [0, 0, 0, 0, 0, "c", "e", 0, 0],
            [0, "i", 0, 0, 0, 0, 0, "a", 0],
            [0, 0, "d", 0, 0, 0, "c", 0, 0],
          ],
        ],
        [
          [
            [0, 0, 0, "c", 0, "i", 0, 0, 0],
            [0, "d", 0, 0, 0, 0, "h", 0, "e"],
            ["a", 0, 0, 0, 0, 0, 0, 0, "d"],
            ["g", 0, 0, 0, "f", 0, 0, 0, 0],
            [0, 0, "h", 0, "b", 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, "b", 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, "e", 0, "g", 0, 0, 0, 0, 0],
          ],
          [
            [0, 0, 0, 0, "d", 0, "e", "f", 0],
            [0, 0, 0, 0, 0, 0, "g", 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, "c"],
            [0, 0, 0, 0, "h", 0, 0, "a", 0],
            [0, "b", 0, 0, "e", 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, "i", "e"],
            ["c", "e", 0, 0, 0, 0, 0, 0, 0],
            ["i", 0, 0, 0, 0, 0, 0, 0, 0],
          ],
          [
            [0, 0, 0, "a", 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, "i", "e"],
            [0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, "d", "a", 0, "c", 0, "i", "h", 0],
            [0, 0, 0, "d", 0, 0, 0, 0, 0],
            [0, 0, 0, 0, "f", "g", 0, 0, "h"],
            [0, 0, 0, "b", "h", 0, 0, 0, 0],
          ],
          [
            [0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, "i", 0, 0, 0, 0, "e", 0, 0],
            [0, 0, "e", 0, "d", 0, "i", 0, 0],
            [0, "h", 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, "h", 0, 0, "a", 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, "b", 0, "i", 0, 0, 0, 0],
            [0, 0, "a", 0, 0, 0, 0, 0, "i"],
            [0, 0, 0, "d", 0, 0, 0, "f", 0],
          ],
          [
            ["b", "e", 0, 0, 0, 0, "d", 0, "g"],
            [0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, "e"],
            [0, 0, 0, 0, 0, 0, "a", 0, 0],
            [0, "b", 0, "f", 0, 0, 0, "c", 0],
            ["c", 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, "c", 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, "d", "c"],
            [0, "c", 0, 0, 0, 0, 0, 0, 0],
          ],
          [
            [0, 0, 0, "b", 0, 0, "a", 0, 0],
            [0, "h", 0, 0, 0, "g", 0, 0, 0],
            [0, 0, "a", 0, 0, 0, 0, "g", "b"],
            [0, 0, 0, 0, 0, 0, "g", 0, 0],
            [0, 0, 0, 0, 0, "a", 0, 0, "c"],
            [0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, "e", 0, 0, 0, "h", 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, "b", 0, 0, "f", 0, 0, 0],
          ],
          [
            [0, "e", 0, 0, 0, 0, 0, "c", 0],
            [0, "a", 0, 0, 0, 0, 0, "b", "e"],
            [0, 0, 0, 0, "b", 0, 0, 0, 0],
            ["i", "d", 0, "f", 0, 0, 0, 0, 0],
            [0, 0, 0, "g", 0, 0, 0, 0, 0],
            [0, "h", 0, 0, 0, 0, "c", 0, 0],
            ["b", 0, 0, 0, 0, "h", 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0],
          ],
          [
            [0, 0, 0, "i", 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, "b", 0],
            [0, "i", 0, 0, 0, 0, 0, 0, "h"],
            [0, 0, "h", "f", "i", 0, 0, "c", 0],
            [0, 0, 0, "h", 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, "d"],
            [0, "e", 0, 0, "a", 0, 0, 0, 0],
            [0, "b", 0, 0, 0, "e", 0, 0, 0],
          ],
          [
            ["c", 0, "a", 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, "h"],
            ["d", 0, "i", 0, "f", 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, "g", 0, "b"],
            [0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, "i"],
            [0, 0, 0, 0, 0, 0, 0, "d", "g"],
            ["h", 0, 0, 0, 0, 0, 0, "c", 0],
            [0, 0, 0, 0, 0, 0, 0, "i", 0],
          ],
          [
            [0, 0, 0, "c", 0, 0, 0, "h", 0],
            [0, 0, "h", "g", 0, 0, 0, 0, "d"],
            [0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, "i", 0, 0, "h"],
            [0, 0, 0, 0, "c", 0, 0, 0, 0],
            [0, "a", 0, 0, 0, 0, 0, 0, 0],
            ["e", 0, 0, 0, "h", 0, "a", 0, 0],
            [0, 0, 0, "e", 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, "c", 0],
          ],
        ],
      ];
      function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
      }

      function gen() {
        document.getElementById("submit").innerHTML = "Submit";
        diff = 0;
        if (document.getElementById("difficulty").value == "Easy") {
          diff = 1;
        } else if (document.getElementById("difficulty").value == "Medium") {
          diff = 2;
        } else if (document.getElementById("difficulty").value == "Hard") {
          diff = 3;
        }
        finalTemplate =
          templates[diff][Math.floor(Math.random() * templates[diff].length)];

        if (Math.floor(Math.random() * 10) < 5) {
          for (row of finalTemplate) {
            row.reverse();
          }
        }
        if (Math.floor(Math.random() * 10) < 5) {
          finalTemplate.reverse();
        }

        const strToint = shuffle(["a", "b", "c", "d", "e", "f", "g", "h", "i"]);

        board = "";
        cellRow = 0;
        for (rows of finalTemplate) {
          cellColumn = 0;
          board += "<tr>\n";
          for (cell of rows) {
            readonly = "";
            border = "";
            background = "";
            if (cell == 0) {
              cell = "";
            } else {
              cell = strToint.indexOf(cell) + 1;
              readonly = "readonly";
              background = "background-color: lightgrey;";
            }
            if ((cellColumn + 1) % 3 == 0) {
              border += "border-right-style: Solid;";
            }
            if ((cellRow + 1) % 3 == 0) {
              border += "border-Bottom-style: Solid;";
            }
            if (cellColumn == 0) {
              border += "border-left-style: Solid;";
            }
            if (cellRow == 0) {
              border += "border-top-style: Solid;";
            }
            board +=
              '<td style="border-width: 8px;' +
              border +
              '"><input onFocus="window.scrollTo(0, 0); highlight(\'cell.' +
              cellRow +
              "." +
              cellColumn +
              '\');" style="' +
              background +
              '" id="cell.' +
              cellRow +
              "." +
              cellColumn +
              '" inputmode="numeric" pattern="[0-9]*" value="' +
              cell +
              '"' +
              readonly +
              "/></td>\n";
            cellColumn++;
          }
          cellRow++;
          board += "</tr>";
        }
        document.getElementById("board").innerHTML = board;
      }
      function checkResult() {
        var temp = getBoard();
        for (row of temp) {
          var index = 0;
          console.log(temp);
          while (index > -1) {
            index = row.indexOf(0);
            if (index > -1) {
              row.splice(index, 1);
            }
          }
        }

        for (i = 0; i < 9; i++) {
          temp1 = [0, 0, 0, 0, 0, 0, 0, 0, 0];
          for (j = 0; j < 9; j++) {
            temp1[j] = temp[j][i];
          }
          temp2 = new Set();
          for (cell of temp1) {
            temp2.add(cell);
          }
          if (temp2.size != 9) {
            document.getElementById("submit").innerHTML = "Resubmit";
            console.log("Failure of Column");
            return null;
          }
        }
        for (row of temp) {
          temp2 = new Set();
          for (cell of row) {
            temp2.add(cell);
          }
          if (temp2.size != 9) {
            document.getElementById("submit").innerHTML = "Resubmit";
            console.log("Failure of Row");
            return null;
          }
        }

        document.getElementById("submit").innerHTML = "You Did it";
      }

      function getBoard() {
        var temp = [
          [0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 0],
        ];
        for (i = 0; i < 9; i++) {
          for (j = 0; j < 9; j++) {
            tempString = "cell." + i + "." + j;
            console.log(tempString);
            //temp[i][j]
            let inVal = document.getElementById(tempString).value;
            if (!inVal) {
              temp[i][j] = 0;
            } else {
              temp[i][j] = parseInt(inVal);
            }
          }
        }
        return temp;
      }

      function highlight(cellId) {
        console.log("Selected");
        for (i = 0; i < 9; i++) {
          for (j = 0; j < 9; j++) {
            tempString = "cell." + i + "." + j;
            document.getElementById(tempString).style.boxShadow = "0px 0px";
          }
        }
        var matches = [];
        var temp = getBoard();
        var cellCor = cellId.split(".");
        cellCor.splice(0, 1);
        for (i of cellCor) {
          i = parseInt(i);
        }
        cellVal = temp[cellCor[0]][cellCor[1]];
        for (i = 0; i < 9; i++) {
          for (j = 0; j < 9; j++) {
            if (temp[i][j] == cellVal && cellVal != 0) {
              matches.push([i, j]);
            }
          }
        }
        for (i of matches) {
          tempString = "cell." + i[0] + "." + i[1];
          document.getElementById(tempString).style.boxShadow =
            "5px 5px gold inset";
        }
      }
    </script>
  </head>
  <body onload="gen();">
    <table id="board" cellspacing="0"></table>
    <div id="controls">
      <button id="submit" onclick="checkResult();">Submit</button
      ><button onclick="gen();">New Puzzle</button>
      <br />
      <select id="difficulty">
        <option value="MoreEasy">More Easy</option>
        <option value="Easy">Easy</option>
        <option value="Medium">Medium</option>
        <option value="Hard">Hard</option>
      </select>
    </div>
  </body>
</html>
